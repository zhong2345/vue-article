import{_ as c,d as _,p as g,o as F,c as b,b as o,w as r,u as h,n as k,j as d,l as w,m as y,f as E}from"./index-88a35129.js";import{u as V}from"./index-12db1ecd.js";const v=_({setup(){},data(){return{userForm:{email:"",password:""},rules:{email:[{required:!0,message:"请输入正确的电子邮箱",tirgger:"blur"},{type:"email",message:"电子邮箱格式错误",tirgger:"blur"}],password:[{required:!0,message:"请输入正确的用户密码",tirgger:"blur"},{min:8,message:"密码长度不得小于8",tirgger:"blur"}]}}},methods:{...g(h,["setToken","fillUserinfo"]),btnLogin(){const e=this,s=e.$refs.ruleFormRef;s&&(s.validate(u=>{if(u)V(e.userForm).then(l=>{if(l.success){const t=l.data.userinfo;console.log(t),e.setToken(t.token),e.fillUserinfo(t),this.$router.push("/articlecat")}else return!1}).catch(l=>{console.log(l)});else return console.log("error submit"),!1}),console.log(this.userForm))},resetForm(){this.$refs.ruleFormRef.resetFields()}}}),$={class:"bj"};function C(e,s,u,f,l,t){const m=w,n=y,i=E,p=k;return F(),b("div",$,[o(p,{ref:"ruleFormRef",model:e.userForm,"status-icon":"",rules:e.rules,class:"demo-ruleForm"},{default:r(()=>[o(n,{prop:"email"},{default:r(()=>[o(m,{modelValue:e.userForm.email,"onUpdate:modelValue":s[0]||(s[0]=a=>e.userForm.email=a),autocomplete:"off",placeholder:"请输入你的邮箱","suffix-icon":"Message"},null,8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:r(()=>[o(m,{type:"password",modelValue:e.userForm.password,"onUpdate:modelValue":s[1]||(s[1]=a=>e.userForm.password=a),autocomplete:"off",placeholder:"请输入你的密码","suffix-icon":"Lock"},null,8,["modelValue"])]),_:1}),o(n,null,{default:r(()=>[o(i,{type:"primary",onClick:e.btnLogin},{default:r(()=>[d("管理员登录")]),_:1},8,["onClick"]),o(i,{onClick:e.resetForm},{default:r(()=>[d("重新输入")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])])}const B=c(v,[["render",C],["__scopeId","data-v-bf47eda8"]]);export{B as default};
