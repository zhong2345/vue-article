import{_,d as f,o as a,c as i,F as h,x as g,a as c,b as r,z as p,w as $,j as u,A as V,C as E,H as I,I as x,f as y,t as B,v as N,s as U,J as w}from"./index-88a35129.js";const A=f({data(){return{products:[{id:1001,name:"海尔立式热水器",price:1849,count:1},{id:1002,name:"Vue核心技术解析",price:43,count:1}],allcheck:!1}},computed:{total(){let e=0;return this.products.forEach(o=>{o.ischeck&&(e+=o.price*o.count)}),e}},methods:{selectProducts(e,o){this.all(),o?this.products.forEach(t=>{t.id==e&&(this.total+=t.price*t.count)}):this.products.forEach(t=>{t.id==e&&(this.total-=t.price*t.count)})},handleChange(e,o){if(this.products.length===0){this.total=0;return}this.total=0,this.$nextTick(()=>{this.products.forEach(t=>{t.count||(t.count=1),this.total+=t.price*t.count})})},changeAll(){this.allcheck=!this.allcheck,this.products.forEach(e=>{e.ischeck=this.allcheck}),this.allcheck?(this.total=0,this.products.forEach(e=>{this.total+=e.price*e.count})):this.total=0},all(){this.products.findIndex(o=>!o.ischeck)==-1?this.allcheck=!0:this.allcheck=!1},handleDelete(e,o){let t=this.products.findIndex(l=>l.id===e);t!==-1&&(o&&(this.total-=this.products[t].price*this.products[t].count),this.products.splice(t,1))}}}),k=e=>(B("data-v-bfc1113b"),e=e(),N(),e),D=k(()=>c("div",{class:"cart"},"购物车",-1)),S={class:"product"},z={class:"name"},F={class:"bars"},P={class:"price"},T={class:"count"},j=k(()=>c("button",null,"购买",-1));function H(e,o,t,l,v,b){const d=I,m=x,C=y;return a(),i(h,null,[D,(a(!0),i(h,null,g(e.products,s=>(a(),i("div",{class:"products",key:s.id},[c("div",S,[c("div",z,[r(d,{label:s.name,modelValue:s.ischeck,"onUpdate:modelValue":n=>s.ischeck=n,size:"small",onChange:n=>e.selectProducts(s.id,s.ischeck)},null,8,["label","modelValue","onUpdate:modelValue","onChange"])]),c("div",F,[c("span",P,"￥"+p(s.price),1),c("span",T,[r(m,{modelValue:s.count,"onUpdate:modelValue":n=>s.count=n,min:1,max:9999,onChange:n=>e.handleChange(s.id,s.count)},null,8,["modelValue","onUpdate:modelValue","onChange"]),r(C,{size:"small",type:"danger",onClick:n=>e.handleDelete(s.id,s.ischeck)},{default:$(()=>[u(" 删除")]),_:2},1032,["onClick"])])])])]))),128)),u(" 全选"),V(c("input",{type:"checkbox",onClick:o[0]||(o[0]=(...s)=>e.changeAll&&e.changeAll(...s)),"onUpdate:modelValue":o[1]||(o[1]=s=>e.allcheck=s)},null,512),[[E,e.allcheck]]),c("div",null,[c("span",null,[u("合计：￥ "),c("span",null,p(e.total),1)]),j])],64)}const J=_(A,[["render",H],["__scopeId","data-v-bfc1113b"]]);const L=f({data(){return{}},methods:{},components:{Cart:J}});function M(e,o,t,l,v,b){const d=U("Cart",!0);return a(),w(d)}const G=_(L,[["render",M],["__scopeId","data-v-c11e0afd"]]);export{G as default};
